//POTD Apr'26, 2024
//Apr'26, 2024 11:49 pm

class Solution {
public:
    int minFallingPathSum(vector<vector<int>>& grid) {
        int n=grid.size(), m=grid[0].size();

        int c=0, r=0, pos=-1;
        for(int i=0;i<n;i++){
            int c1=1e9, r1=1e9, pos1=-1;
            for(int j=0;j<m;j++){
                int mn= (j!=pos)? c:r;
                if(grid[i][j]+mn < c1){
                    r1= c1;
                    c1= grid[i][j]+ mn;
                    pos1= j;
                }
                else {
                    r1= min(r1, grid[i][j]+ mn);
                }
            }
            r=r1, c=c1, pos= pos1;
        }
        
        return c;
    }
};

//Comments
//33 min
//1 incorrect: [[2,2,1,2,2],[2,2,1,2,2],[2,2,1,2,2],[2,2,1,2,2],[2,2,1,2,2]]
//Was solving with 2d dp

//2nd incorrect: TLE
//[[-2,-18,31,-10,-71,82,47,56,-14,42],[-95,3,65,-7,64,75,-51,97,-66,-28],[36,3,-62,38,15,51,-58,-90,-23,-63],[58,-26,-42,-66,21,99,-94,-95,-90,89],[83,-66,-42,-45,43,85,51,-86,65,-39],[56,9,9,95,-56,-77,-2,20,78,17],[78,-13,-55,55,-7,43,-98,-89,38,90],[32,44,-47,81,-1,-55,-5,16,-81,17],[-87,82,2,86,-88,-58,-91,-79,44,-9],[-96,-14,-52,-8,12,38,84,77,-51,52]]